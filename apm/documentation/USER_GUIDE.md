# APM User Guide

Welcome to the APM (Approvals Management) User Guide. This guide will help you create and manage various document types in the system.

## Table of Contents

1. [Creating a Matrix](#creating-a-matrix)
2. [Creating a Special Memo](#creating-a-special-memo)
3. [Creating a Single Memo](#creating-a-single-memo)
4. [Creating a Non-Travel Memo](#creating-a-non-travel-memo)
5. [Creating a Change Request](#creating-a-change-request)
6. [Creating a Service Request](#creating-a-service-request)
7. [Creating an ARF Request](#creating-an-arf-request)
8. [Managing Your Documents](#managing-your-documents)

---

## Creating a Matrix

A Matrix is a planning document that outlines activities and budgets for a specific period.

### Step-by-Step Guide

1. **Navigate to Matrices**
   - Click on **"APM Home"** in the main navigation
   - Select **"Matrices"** from the dropdown menu
   
   ![Screenshot: Navigation to Matrices](APM)

2. **Create New Matrix**
   - Click the **"Create Matrix"** button (usually green button with plus icon)
   
   ![Screenshot: Create Matrix Button](APM)

3. **Fill in Matrix Details**
   - **Title**: Enter a descriptive title for your matrix
   - **Division**: Select your division from the dropdown
   - **Year**: Select the year for this matrix
   - **Quarter**: Select the quarter (Q1, Q2, Q3, Q4, or Annual)
   - **Key Result Areas**: Add key result areas and their descriptions
   - **Description**: Provide additional context or description
   
   ![Screenshot: Matrix Form](APM)

4. **Add Activities** (if applicable)
   - Click **"Add Activity"** to include activities in your matrix
   - Fill in activity details:
     - Activity title
     - Dates (from and to)
     - Location
     - Participants
     - Budget breakdown
   
   ![Screenshot: Adding Activities](APM)

5. **Submit for Approval**
   - Review all information
   - Click **"Submit"** or **"Save and Submit"** button
   - The matrix will be sent to the first approver in the workflow
   
   ![Screenshot: Submit Button](APM)

### Important Notes

- Matrices can be saved as drafts before submission
- Once submitted, you cannot edit until it's returned or approved
- You can view the approval status in the "My Matrices" section

---

## Creating a Special Memo

Special Memos are used for special travel requests and activities.

### Step-by-Step Guide

1. **Navigate to Special Memos**
   - Click on **"APM Home"** in the main navigation
   - Select **"Special Travel Memos"** from the dropdown
   
   ![Screenshot: Navigation to Special Memos](APM)

2. **Create New Special Memo**
   - Click the **"Create Special Memo"** button
   
   ![Screenshot: Create Special Memo Button](APM)

3. **Fill in Required Information**
   - **Activity Title**: Enter a clear title for the activity
   - **Request Type**: Select the appropriate request type
   - **Background/Context**: Provide background information
   - **Justification**: Explain why this memo is needed
   - **Dates**: Select start and end dates
   - **Location**: Select or enter location(s)
   - **Participants**: Enter number of internal and external participants
   - **Budget Breakdown**: Add detailed budget items
   
   ![Screenshot: Special Memo Form](APM)

4. **Attach Supporting Documents** (if needed)
   - Click **"Attach Files"** or drag and drop files
   - Supported formats: PDF, Word, Excel, Images
   
   ![Screenshot: File Attachment](APM)

5. **Submit for Approval**
   - Review all details
   - Click **"Submit"** button
   
   ![Screenshot: Submit Special Memo](APM)

### Important Notes

- Special memos require detailed justification
- Budget breakdown must be accurate and complete
- Supporting documents strengthen your request

---

## Creating a Single Memo

Single Memos are activities added to a matrix that is **approved or under approval**. They can also be created when a regular activity is **not passed** and returned by an approver.

### When Single Memos Are Created

1. **Adding to Approved/Pending Matrix**: When you add an activity to a matrix that is already approved or pending approval
2. **Activity Not Passed**: When an approver marks a regular activity as "not passed" during matrix review, it gets converted to a single memo

### Step-by-Step Guide: Adding Single Memo to Matrix

1. **Navigate to Your Matrix**
   - Go to **"Matrices"** from the main navigation
   - Find and open the matrix you want to add a single memo to
   - The matrix must be in **"Approved"** or **"Pending"** status
   
   ![Screenshot: Matrix List](APM)

2. **Open Matrix Details**
   - Click on the matrix to view its details
   - You'll see the matrix information and existing activities
   
   ![Screenshot: Matrix Details Page](APM)

3. **Add Single Memo**
   - On the matrix detail page, look for the **"Add Single Memo"** button
   - This button only appears when the matrix is approved or pending
   - Click the button to create a new single memo
   
   ![Screenshot: Add Single Memo Button](APM)

4. **Fill in Single Memo Details**
   - The form opens with "Single Memo" title
   - Fill in all required fields:
     - **Activity Title**: Enter descriptive title
     - **Request Type**: Select appropriate request type
     - **Dates**: Select start and end dates
     - **Location**: Select or enter location(s)
     - **Participants**: Add internal and external participants
     - **Budget Breakdown**: Add detailed budget items
     - **Background/Justification**: Provide context
   
   ![Screenshot: Single Memo Form](APM)

5. **Submit Single Memo**
   - Review all information
   - Click **"Submit"** button
   - Single memo will be submitted for approval
   - It follows its own approval workflow separate from the matrix
   
   ![Screenshot: Submit Single Memo](APM)

### Creating Single Memo from Returned Activity

When an approver marks an activity as "not passed" during matrix review:

1. **Activity is Converted**
   - The activity is automatically converted to a single memo
   - Status changes to "Draft"
   - A new document number is assigned (SM type)
   
   ![Screenshot: Activity Converted to Single Memo](APM)

2. **Edit and Resubmit**
   - The creator receives notification
   - Open the single memo from the matrix
   - Make necessary corrections based on approver comments
   - Resubmit for approval
   
   ![Screenshot: Edit Returned Single Memo](APM)

### Important Notes

- **Single Memos can only be added to approved or pending matrices** - Draft or returned matrices use regular activities
- **Single Memos have their own approval workflow** - They don't affect the matrix approval status
- **Budget should align with matrix allocations** - Ensure budget fits within matrix budget
- **One matrix can have multiple single memos** - You can add as many as needed
- **Single Memos can be created from returned activities** - When an activity is "not passed", it becomes a single memo
- **Single Memos are tracked separately** - They appear in a separate "Single Memos" tab on the matrix page

---

## Creating a Non-Travel Memo

Non-Travel Memos are for activities that don't involve travel.

### Step-by-Step Guide

1. **Navigate to Non-Travel Memos**
   - Click on **"APM Home"** in the main navigation
   - Select **"Non-Travel Memos"** from the dropdown
   
   ![Screenshot: Navigation to Non-Travel Memos](APM)

2. **Create New Non-Travel Memo**
   - Click the **"Create Non-Travel Memo"** button
   
   ![Screenshot: Create Non-Travel Memo Button](APM)

3. **Fill in Details**
   - **Category**: Select non-travel category (e.g., Training, Workshop, Meeting)
   - **Title**: Enter activity title
   - **Purpose**: Describe the purpose of the activity
   - **Dates**: Select start and end dates
   - **Location**: Enter location (usually local/office)
   - **Participants**: Number of participants
   - **Budget**: Budget breakdown for non-travel expenses
   
   ![Screenshot: Non-Travel Memo Form](APM)

4. **Add Budget Items**
   - Click **"Add Budget Item"**
   - Enter item description and amount
   - Common items: Venue, Catering, Materials, etc.
   
   ![Screenshot: Budget Items](APM)

5. **Submit for Approval**
   - Review all information
   - Click **"Submit"** button
   
   ![Screenshot: Submit Non-Travel Memo](APM)

### Important Notes

- Non-travel memos don't require travel-related information
- Focus on local expenses and logistics
- Categories help classify the type of activity

---

## Creating a Change Request

Change Requests (also called Addendums) are used to modify **previously approved documents**. Change Requests can only be created for documents that have been fully approved.

### Prerequisites

- You must have an **approved** document that you want to modify
- The document must be fully approved (overall_status = 'approved')
- You must have permission to edit the document (typically the creator or responsible person)

### Step-by-Step Guide

1. **Open Your Approved Document**
   - Navigate to the approved document you want to modify:
     - Matrix Activity (Single Memo)
     - Special Memo
     - Non-Travel Memo
   - The document must show status as **"Approved"**
   
   ![Screenshot: Approved Document](APM)

2. **Create Change Request**
   - On the approved document's detail page, look for the **"Change Request"** button
   - This button appears on approved documents
   - Click the button to start creating a change request
   
   ![Screenshot: Change Request Button](APM)

3. **Edit Document with Change Request Mode**
   - The document edit form opens in "Change Request" mode
   - Original values are pre-filled
   - Make the changes you need:
     - Modify dates
     - Update location
     - Adjust budget breakdown
     - Change participants
     - Update other fields as needed
   
   ![Screenshot: Change Request Edit Form](APM)

4. **Provide Justification**
   - **Supporting Reasons**: Provide detailed explanation for why changes are needed
   - This is a required field and must be comprehensive
   - Explain the circumstances requiring the change
   
   ![Screenshot: Change Request Justification](APM)

5. **Attach Supporting Documents**
   - Upload documents supporting the change request
   - Include any approvals, justifications, or related documents
   - These documents help approvers understand why changes are needed
   
   ![Screenshot: Supporting Documents](APM)

6. **Review Changes**
   - Review all changes carefully
   - Ensure the justification is clear and complete
   - Verify all modified fields are correct
   
   ![Screenshot: Review Changes](APM)

7. **Submit Change Request**
   - Click **"Submit"** button
   - The change request will follow the same approval workflow as the original document
   - Original document remains unchanged until change request is approved
   
   ![Screenshot: Submit Change Request](APM)

### Important Notes

- **Change Requests can ONLY be created for approved documents**
- **Strong justification is required** - Change requests without proper justification may be rejected
- **Original document remains visible** - The original approved document stays unchanged until the change request is approved
- **Changes must be approved** - All changes go through the approval workflow before taking effect
- **Multiple change requests** - You can create multiple change requests for the same document
- **Change Request is an Addendum** - It modifies the original document, not replacing it
- **Track approval status** - Monitor the change request's approval progress separately from the original document

---

## Creating a Service Request

Service Requests (RQS - Request for Services) are for requesting DSA, Imprest, and Tickets for **approved intramural activities**. Service Requests can only be created from approved documents with **Intramural** fund type.

### Prerequisites

- You must have an **approved** document (Activity/Single Memo, Special Memo, or Non-Travel Memo)
- The document must have **Intramural** fund type (fund_type_id = 1)
- You must be the **responsible person** for the approved document
- The document must be fully approved (overall_status = 'approved')

### Step-by-Step Guide

1. **Open Your Approved Document**
   - Navigate to your approved Activity, Special Memo, or Non-Travel Memo
   - The document must show status as **"Approved"**
   
   ![Screenshot: Approved Document](APM)

2. **Create Service Request from Document**
   - On the approved document's detail page, look for the **"Request Services"** or **"Create RQS"** button
   - This button only appears if:
     - Document is approved
     - Fund type is Intramural
     - You are the responsible person
     - No existing Service Request exists for this document
   
   ![Screenshot: Request Services Button](APM)

3. **Service Request Form Pre-filled**
   - The form is automatically pre-filled with information from the approved document:
     - Activity details
     - Dates
     - Location
     - Participants
     - Budget breakdown
   
   ![Screenshot: Pre-filled Service Request Form](APM)

4. **Review and Complete Details**
   - **Service Type**: Select DSA, Imprest, or Ticket
   - **Service Title**: Review and modify if needed (pre-filled from activity)
   - **Description**: Review activity description
   - **Required By Date**: When you need the service
   - **Priority**: Select priority level (Low, Medium, High, Urgent)
   - **Budget Breakdown**: Review and adjust if needed (pre-filled from activity)
   
   ![Screenshot: Service Request Details](APM)

5. **Add Specifications**
   - Provide detailed specifications for the service
   - Include any special requirements or notes
   
   ![Screenshot: Service Request Specifications](APM)

6. **Submit Service Request**
   - Review all details
   - Click **"Submit"** button
   - Service Request will be submitted for approval
   
   ![Screenshot: Submit Service Request](APM)

### Important Notes

- **Service Requests can ONLY be created from approved documents** - You cannot create a standalone Service Request
- **Only Intramural activities** can have Service Requests (fund_type_id = 1)
- **Only the responsible person** can create Service Requests for their approved documents
- **One Service Request per document** - If a Service Request already exists, you'll see a "View Request" button instead
- Service Requests follow their own approval workflow
- Service Requests are linked to the source document for tracking purposes

---

## Creating an ARF Request

ARF (Advance Request Form) Requests are for requesting advances for **approved extramural activities**. ARF Requests can only be created from approved documents with **Extramural** fund type.

### Prerequisites

- You must have an **approved** document (Activity/Single Memo, Special Memo, or Non-Travel Memo)
- The document must have **Extramural** fund type (fund_type_id = 2)
- You must be the **responsible person** for the approved document
- The document must be fully approved (overall_status = 'approved')
- For Activities: Both the activity AND its matrix must be approved

### Step-by-Step Guide

1. **Open Your Approved Document**
   - Navigate to your approved Activity, Special Memo, or Non-Travel Memo
   - The document must show status as **"Approved"**
   - For Activities: Ensure the parent Matrix is also approved
   
   ![Screenshot: Approved Document](APM)

2. **Create ARF from Document**
   - On the approved document's detail page, look for the **"Create ARF"** button
   - This button only appears if:
     - Document is approved (and matrix is approved for activities)
     - Fund type is Extramural (fund_type_id = 2)
     - You are the responsible person
     - No existing ARF Request exists for this document
   
   ![Screenshot: Create ARF Button](APM)

3. **ARF Request Modal Opens**
   - Clicking "Create ARF" opens a modal with pre-filled information
   - All details from the approved document are automatically populated:
     - Activity title
     - Dates (from and to)
     - Location
     - Participants (internal and external)
     - Budget breakdown
     - Division information
   
   ![Screenshot: ARF Request Modal](APM)

4. **Review Pre-filled Information**
   - Review all pre-filled information carefully
   - The "Request for Approval" section shows the original document details
   - Budget breakdown is displayed with totals
   - Verify all information is correct
   
   ![Screenshot: Review ARF Information](APM)

5. **Confirm ARF Creation**
   - The form is pre-filled and ready to submit
   - Click **"Create ARF"** or **"Submit"** button in the modal
   - ARF Request will be created and submitted for approval
   
   ![Screenshot: Submit ARF Request](APM)

6. **ARF Request Created**
   - After submission, you'll be redirected to the ARF Request detail page
   - The ARF Request follows its own approval workflow
   - You can track its approval status
   
   ![Screenshot: ARF Request Created](APM)

### Important Notes

- **ARF Requests can ONLY be created from approved documents** - You cannot create a standalone ARF Request
- **Only Extramural activities** can have ARF Requests (fund_type_id = 2)
- **Only the responsible person** can create ARF Requests for their approved documents
- **For Activities**: Both the activity AND its parent matrix must be approved
- **One ARF Request per document** - If an ARF Request already exists, the button won't appear
- **Requested amount** is automatically set from the approved document's total budget
- ARF Requests follow their own approval workflow separate from the source document
- ARF Requests are linked to the source document for tracking and reference

---

## Managing Your Documents

### Viewing Your Documents

1. **My Documents Section**
   - Access from **"APM Home"** â†’ **"My [Document Type]"**
   - View all documents you've created
   
   ![Screenshot: My Documents](APM)

2. **Filter and Search**
   - Use filters to find specific documents
   - Filter by status, date, or other criteria
   - Use search to find by title or document number
   
   ![Screenshot: Document Filters](APM)

### Document Statuses

- **Draft**: Not yet submitted, can be edited
- **Submitted**: Sent for approval, awaiting first approver
- **In Progress**: Being reviewed by approvers
- **Approved**: Fully approved and ready for use
- **Returned**: Sent back for corrections, can be edited and resubmitted
- **Rejected**: Rejected and cannot be resubmitted

### Editing Returned Documents

1. **View Return Comments**
   - Open the returned document
   - Read comments from approvers
   - Understand what needs to be corrected
   
   ![Screenshot: Return Comments](APM)

2. **Make Corrections**
   - Click **"Edit"** or **"Resubmit"** button
   - Make necessary changes
   - Update information based on comments
   
   ![Screenshot: Edit Returned Document](APM)

3. **Resubmit**
   - After making corrections, click **"Resubmit"**
   - Document goes back to the approver who returned it
   
   ![Screenshot: Resubmit Button](APM)

### Tracking Approval Progress

1. **View Approval Trail**
   - Open any submitted document
   - Click **"Approval Trail"** or view approval history
   - See who has approved and when
   
   ![Screenshot: Approval Trail](APM)

2. **Check Current Status**
   - Status is displayed at the top of the document
   - See who is the current approver
   - View pending approvers
   
   ![Screenshot: Current Status](APM)

---

## Tips for Success

1. **Complete All Required Fields**
   - Fields marked with * are required
   - Incomplete forms cannot be submitted

2. **Provide Clear Justifications**
   - Well-written justifications improve approval chances
   - Be specific and detailed

3. **Attach Supporting Documents**
   - Relevant documents strengthen your request
   - Include quotes, estimates, or approvals when available

4. **Review Before Submitting**
   - Double-check all information
   - Ensure budgets are accurate
   - Verify dates and locations

5. **Respond Promptly to Returns**
   - Address return comments quickly
   - Resubmit with corrections as soon as possible

6. **Track Your Documents**
   - Regularly check status of submitted documents
   - Follow up if documents are stuck in approval

---

## Getting Help

- **Help Documentation**: Click the **"Help"** link in the top navigation
- **Contact Support**: Reach out to your system administrator
- **Approvers Guide**: See [Approvers Guide](./APPROVERS_GUIDE.md) for approval process details

---

**Last Updated**: December 2024  
**Version**: 1.0.0

